{"ast":null,"code":"var _jsxFileName = \"/Users/tylerlane/Documents/MondayApps/bookmarks/quickstart-react/src/App.js\";\nimport React from \"react\";\nimport \"./App.css\";\nimport mondaySdk from \"monday-sdk-js\";\nimport { connect } from \"ngrok\"; // import concurrently from \"concurrently\";\n\nconst monday = mondaySdk();\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props); // Default state\n\n    this.state = {\n      settings: {},\n      name: \"\",\n      bookmarks: [{}],\n      editable: false,\n      adding: false,\n      newBookmarkName: '',\n      newBookmarkSubtitle: '',\n      newBookmarkURL: ''\n    }; //bind functions\n\n    this.deleteBookmark = this.deleteBookmark.bind(this);\n    this.handleInputChange = this.handleInputChange.bind(this);\n    this.handleInputSubmit = this.handleInputSubmit.bind(this); //load saved bookmarks on page load\n\n    this.getBookmarkList();\n  }\n\n  componentDidMount() {// TODO: set up event listeners\n  }\n\n  getBookmarkList() {\n    console.log('starting getBookmarkList...');\n    return Promise.resolve(monday.storage.instance.getItem('bookmarks').then(res => {\n      // let keys = Object.keys(res.data.value);\n      // console.log(keys);\n      console.log(res.data.value);\n      var returnedValue = JSON.parse(res.data.value);\n\n      if (isEmpty(returnedValue)) {\n        this.setState({\n          bookmarks: [{}]\n        });\n        return;\n      } else {\n        console.log('getBookmarkCompleting...');\n        this.setState({\n          bookmarks: returnedValue\n        });\n      }\n    }));\n  }\n\n  addNewBookmark() {\n    this.setState({\n      adding: true\n    });\n  }\n\n  editBookmarks() {\n    this.setState({\n      editable: true\n    });\n  }\n\n  viewBookmarks() {\n    console.log('inside view bookmarks...');\n    this.getBookmarkList().then(res => {\n      console.log('inside view bookmarks promise - should be last...');\n      this.setState({\n        editable: false\n      });\n      this.setState({\n        adding: false\n      });\n    });\n  }\n  /**\n   * Deletes a single bookmark\n   * @param {String} bookmarkID - Bookmark to delete.\n   */\n\n\n  deleteBookmark(key) {\n    console.log('trying to delete: ' + key);\n    return Promise.resolve(monday.storage.instance.getItem('bookmarks').then(res => {\n      let currentBookmarks = [{}];\n      currentBookmarks = JSON.parse(res.data.value);\n\n      if (isEmpty(currentBookmarks)) {\n        // this.setState({bookmarks: [{}]});\n        this.getBookmarkList();\n        return;\n      } else {\n        var newBookmarks = currentBookmarks.filter(bookmark => bookmark.key !== key);\n        saveBookmarks(newBookmarks).then(res => {\n          this.getBookmarkList();\n          return;\n        });\n      }\n    }));\n  }\n\n  handleInputChange(event) {\n    const value = event.target.value;\n    const name = event.target.name;\n    this.setState({\n      [name]: value\n    });\n  }\n\n  handleInputSubmit(event) {\n    //Get favicon\n    var faviconURL = getFaviconURL(this.state.newBookmarkURL); //save bookmark\n\n    var newBookmark = {\n      // \"key\": \"2\",\n      \"name\": this.state.newBookmarkName,\n      \"subtitle\": this.state.newBookmarkSubtitle,\n      \"url\": this.state.newBookmarkURL,\n      \"favicon\": faviconURL\n    };\n    console.log('starting to add new bookmark...');\n    addBookmark(newBookmark).then(res => {\n      console.log('switching to viewBookmarks...');\n      this.viewBookmarks();\n    }); //go back to main view\n    //or maybe remove this line.\n\n    event.preventDefault();\n  }\n\n  render() {\n    const bookmarkList = this.state.bookmarks;\n    var practiceBookmarks = [{\n      \"key\": \"1\",\n      \"name\": \"ESPN\",\n      \"subtitle\": \"Scores from the last 10 games.\",\n      \"url\": \"https://espn.com\",\n      \"favicon\": \"https://espn.com/favicon.ico\"\n    }, {\n      \"key\": \"2\",\n      \"name\": \"Heap\",\n      \"subtitle\": \"Latest testing data for entire period.\",\n      \"url\": \"https://heap.io\",\n      \"favicon\": \"https://heap.io/favicon.ico\"\n    }];\n    var pracAddSingleBookmark = {\n      // \"key\": \"2\",\n      \"name\": \"Google\",\n      \"subtitle\": \"Needs some more info, look here\",\n      \"url\": \"https://google.com\",\n      \"favicon\": \"https://google.com/favicon.ico\"\n    };\n\n    if (this.state.adding) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"App\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"form\", {\n        onSubmit: this.handleInputSubmit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        name: \"newBookmarkName\",\n        className: \"new-bookmark-input\",\n        placeholder: \"New Bookmark Name\",\n        onChange: this.handleInputChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(\"input\", {\n        name: \"newBookmarkSubtitle\",\n        className: \"new-bookmark-input\",\n        placeholder: \"New Bookmark Subtitle\",\n        onChange: this.handleInputChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(\"input\", {\n        name: \"newBookmarkURL\",\n        className: \"new-bookmark-input\",\n        placeholder: \"New Bookmark URL\",\n        onChange: this.handleInputChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(\"input\", {\n        className: \"submitNew\",\n        type: \"submit\",\n        value: \"Save\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 13\n        }\n      })), /*#__PURE__*/React.createElement(\"button\", {\n        onClick: () => this.viewBookmarks(),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 11\n        }\n      }, \"Cancel\"));\n    } else {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"App\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 9\n        }\n      }, bookmarkList.map(bookmark => /*#__PURE__*/React.createElement(Bookmark, {\n        id: bookmark.key,\n        url: bookmark.url,\n        name: bookmark.name,\n        favicon: bookmark.favicon,\n        subtitle: bookmark.subtitle,\n        deleteBookmark: this.deleteBookmark,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 11\n        }\n      })), /*#__PURE__*/React.createElement(\"button\", {\n        onClick: () => this.addNewBookmark(),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 11\n        }\n      }, \"+\"));\n    }\n  }\n\n}\n\nclass Bookmark extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    this.handleClick = () => {\n      console.log('Clicked'); // window.open(\"https://www.w3schools.com\", '_blank', 'noopener,noreferrer');\n\n      window.open(this.props.url, '_blank', 'noopener,noreferrer');\n    };\n  }\n\n  handleClickDelete(e) {\n    //Delete bookmark\n    console.log('clicked'); // console.log(this.props);\n\n    console.log('deleting: ' + this.props.id);\n    this.props.deleteBookmark(this.props.id);\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"bookmark-card-component\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"bookmark-card-image\",\n      onClick: this.handleClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"bookmark-img\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      className: \"bookmark-photo\",\n      src: this.props.favicon,\n      alt: \"Logo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 11\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"bookmark-remove editable\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"danger-button\",\n      onClick: this.handleClickDelete.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 11\n      }\n    }, \"X\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"bookmark-card-container\",\n      onClick: this.handleClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"bookmark-card-inner\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"bookmark-card-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"bookmark-card-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 13\n      }\n    }, this.props.name), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"bookmark-card-subtitle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"multiline-ellipsis-component\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 15\n      }\n    }, this.props.subtitle))))));\n  }\n\n} // ================= Backend ==================\n//https://jsdoc.app/tags-param.html <- how to document\n\n/**\n * Saves bookmark(s) to Monday instance.\n * @param {Object} bookmarkList - Bookmarks to save.\n */\n\n\nfunction saveBookmarks(bookmarkList) {\n  return Promise.resolve(monday.storage.instance.setItem('bookmarks', JSON.stringify(bookmarkList)).then(res => {\n    // console.log(res);\n    console.log('new bookmark saved!');\n  }));\n}\n/**\n * Adds a new bookmark to Monday instance.\n * @param {Object} bookmark - Bookmark to add.\n */\n\n\nfunction addBookmark(bookmark) {\n  var newKey = new Date().getTime().toString() + bookmark.name;\n  return monday.storage.instance.getItem('bookmarks').then(res => {\n    // let keys = Object.keys(res.data.value);\n    // console.log(keys);\n    // console.log(res.data.value);\n    let currentBookmarks = [{}];\n    currentBookmarks = JSON.parse(res.data.value);\n\n    if (isEmpty(currentBookmarks)) {\n      var newBookmark = [{\n        \"key\": newKey,\n        \"name\": bookmark.name,\n        \"subtitle\": bookmark.subtitle,\n        \"url\": bookmark.url,\n        \"favicon\": bookmark.favicon\n      }];\n      console.log('starting to save new bookmark...');\n      return Promise.resolve(saveBookmarks(newBookmark));\n    } else {\n      var newBookmark = {\n        \"key\": newKey,\n        \"name\": bookmark.name,\n        \"subtitle\": bookmark.subtitle,\n        \"url\": bookmark.url,\n        \"favicon\": bookmark.favicon\n      };\n      console.log('starting to save new bookmark...');\n      currentBookmarks.push(newBookmark);\n      return Promise.resolve(saveBookmarks(currentBookmarks));\n    }\n  });\n}\n/**\n * Deletes all bookmarks created\n *\n */\n\n\nfunction deleteAllBookmarks() {\n  monday.storage.instance.setItem('bookmarks', '{}').then(res => {\n    console.log(res);\n  });\n}\n/**\n * Checks if an object is empty\n * @param {Object} obj \n */\n\n\nfunction isEmpty(obj) {\n  return Object.keys(obj).length === 0;\n}\n/**\n * Get standard favicon.ico url based off any link\n * @param {string} url \n */\n\n\nfunction getFaviconURL(url) {\n  var favURL;\n  var a = document.createElement('a');\n  a.href = url;\n  favURL = 'https://' + a.hostname + '/favicon.ico';\n  console.log(favURL);\n  return favURL;\n}\n/*\n**** MOVED THIS FUNCTION INSIDE APP COMPONENT SO IT CAN SAVE TO STATE ****\nfunction getBookmark(){\n  monday.storage.instance.getItem('bookmarks').then(res => {\n    // let keys = Object.keys(res.data.value);\n    // console.log(keys);\n    console.log(res.data.value);\n    return res.data.value\n })\n}\n*/\n\n\nexport default App; // ================= Old Code for editable bookmarks ==================\n// ================= This part was in the main render ==================\n// if (this.state.editable){\n//   return (\n//   <div className=\"App\">\n//       {bookmarkList.map((bookmark) =>\n//       <EditableBookmark \n//         key={bookmark.key} \n//         id={bookmark.key} \n//         url={bookmark.url} \n//         name={bookmark.name} \n//         favicon={bookmark.favicon} \n//         subtitle={bookmark.subtitle}\n//         refreshBookmarks={this.getBookmarkList}\n//         deleteBookmark={this.deleteBookmark}\n//         />\n//       )}\n//       {/* <CreateBookmarkForm /> */}\n//       <button onClick={() => addBookmark(pracAddSingleBookmark)}>Add</button>\n//       <button onClick={() => this.getBookmarkList()}>Refresh</button> \n//       {/* <button onClick={() => deleteAllBookmarks()}>Clear All</button> */}\n//       <button onClick={() => this.viewBookmarks()}>Save</button>\n//       {/* <button onClick={() => getFaviconURL('https://stackoverflow.com/questions/8498592/extract-hostname-name-from-string')}>get favicon url</button> */}\n//     </div>\n//   );\n// } \n// ================= Here are the edibtable components ==================\n\n/*\nclass EditableBookmark extends React.Component {\n\n  constructor(props){\n    super(props);\n    this.handleClickDelete = this.handleClickDelete.bind(this);\n  }\n\n  handleClickDelete(e){\n    //Delete bookmark\n    console.log('deleting: ' + this.props.id);\n    this.props.deleteBookmark(this.props.id);\n  }\n\n  render(){\n    return (\n    <div className=\"bookmark-card-component\" >\n      <div className=\"bookmark-remove editable\">\n          <button className=\"danger-button\" onClick={this.handleClickDelete}>Remove</button>\n      </div>\n      <div className=\"bookmark-card-container editable\">\n        <div className=\"bookmark-card-inner editable\">\n          <div className=\"bookmark-card-content\">\n            <div className=\"bookmark-card-title editable-text\">\n              <div className=\"bookmark-card-title\">{this.props.name}</div>\n            </div>\n            <div className=\"bookmark-card-subtitle\">\n              <div className=\"multiline-ellipsis-component\">{this.props.subtitle}</div>\n            </div>\n            <div className=\"bookmark-card-subtitle\">\n              <div className=\"multiline-ellipsis-component\">{this.props.url}</div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    );\n  }\n}\n\n\nclass NewBookmark extends React.Component {\n\n  render(){\n    return (\n      <div className=\"bookmark-card-component\" >\n      // { <div className=\"bookmark-card-image\">\n      //   <div className=\"bookmark-img\">\n      //     <img className=\"bookmark-photo\" src={this.props.favicon} alt=\"Logo\" />\n      //   </div>\n      // </div>}\n      <div className=\"bookmark-card-container\">\n        <div className=\"bookmark-card-inner\">\n          <div className=\"bookmark-card-content\">\n            <div className=\"bookmark-card-title\">Name</div>\n            <div className=\"bookmark-card-subtitle\">\n              <div className=\"multiline-ellipsis-component\">Subtitle</div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    )\n  }\n\n}\n\n*/\n\n/*\nclass CreateBookmarkForm extends React.Component {\n  //Learned here: https://reactjs.org/docs/forms.html#controlled-components\n  constructor(props) {\n    super(props);\n    this.state = {\n      url: '',\n      bookmarkName: ''\n    };\n\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleChange(event) {\n    console.log(event);\n    this.setState({\n      [url]: event.target.url,\n      [bookmarkName]: event.target.bookmarkName\n    });\n  }\n\n  handleSubmit(event) {\n    console.log('Submitted URL: ' + this.state.url);\n    console.log('Submitted Name: ' + this.state.bookmarkName);\n    console.log(this.state);\n    event.preventDefault();\n  }\n\n  render(){\n    return(\n      <form onSubmit={this.handleSubmit}>\n        <label>\n          URL\n          <input\n            name=\"url\"\n            type=\"text\"\n            value={this.state.url}\n            onChange={this.handleChange} />\n        </label>\n        <br />\n        <label>\n          Name:\n          <input\n            name=\"bookmarkName\"\n            type=\"text\"\n            value={this.state.bookmarkName}\n            onChange={this.handleChange} />\n        </label>\n        <input type=\"submit\" value=\"Submit\" />\n      </form>\n    );\n  }\n}\n*/","map":{"version":3,"sources":["/Users/tylerlane/Documents/MondayApps/bookmarks/quickstart-react/src/App.js"],"names":["React","mondaySdk","connect","monday","App","Component","constructor","props","state","settings","name","bookmarks","editable","adding","newBookmarkName","newBookmarkSubtitle","newBookmarkURL","deleteBookmark","bind","handleInputChange","handleInputSubmit","getBookmarkList","componentDidMount","console","log","Promise","resolve","storage","instance","getItem","then","res","data","value","returnedValue","JSON","parse","isEmpty","setState","addNewBookmark","editBookmarks","viewBookmarks","key","currentBookmarks","newBookmarks","filter","bookmark","saveBookmarks","event","target","faviconURL","getFaviconURL","newBookmark","addBookmark","preventDefault","render","bookmarkList","practiceBookmarks","pracAddSingleBookmark","map","url","favicon","subtitle","Bookmark","handleClick","window","open","handleClickDelete","e","id","setItem","stringify","newKey","Date","getTime","toString","push","deleteAllBookmarks","obj","Object","keys","length","favURL","a","document","createElement","href","hostname"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport \"./App.css\";\nimport mondaySdk from \"monday-sdk-js\";\nimport { connect } from \"ngrok\";\n// import concurrently from \"concurrently\";\nconst monday = mondaySdk();\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    // Default state\n    this.state = {\n      settings: {},\n      name: \"\",\n      bookmarks: [{}],\n      editable: false,\n      adding: false,\n      newBookmarkName: '',\n      newBookmarkSubtitle: '',\n      newBookmarkURL: '',\n    };\n\n    //bind functions\n    this.deleteBookmark = this.deleteBookmark.bind(this);\n    this.handleInputChange = this.handleInputChange.bind(this);\n    this.handleInputSubmit = this.handleInputSubmit.bind(this);\n\n    //load saved bookmarks on page load\n    this.getBookmarkList();\n  }\n\n  componentDidMount() {\n    // TODO: set up event listeners\n  }\n\n  getBookmarkList(){\n    console.log('starting getBookmarkList...');\n    return Promise.resolve(monday.storage.instance.getItem('bookmarks').then(res => {\n      // let keys = Object.keys(res.data.value);\n      // console.log(keys);\n      console.log(res.data.value);\n      var returnedValue = JSON.parse(res.data.value);\n      if(isEmpty(returnedValue)){\n        this.setState({bookmarks: [{}]});\n        return;\n      } else {\n        console.log('getBookmarkCompleting...');\n        this.setState({bookmarks: returnedValue});\n      }\n   }));\n  }\n\n  addNewBookmark(){\n    this.setState({adding: true});\n  }\n\n  editBookmarks(){\n     this.setState({editable: true});\n  }\n\n  viewBookmarks(){\n    console.log('inside view bookmarks...');\n    this.getBookmarkList().then( res => {\n      console.log('inside view bookmarks promise - should be last...');\n      this.setState({editable: false});\n      this.setState({adding: false});\n    });\n }\n\n  /**\n   * Deletes a single bookmark\n   * @param {String} bookmarkID - Bookmark to delete.\n   */\n  deleteBookmark(key){\n\n    console.log('trying to delete: ' + key);  \n    \n    return Promise.resolve(monday.storage.instance.getItem('bookmarks').then(res => {\n      let currentBookmarks = [{}];\n      currentBookmarks = JSON.parse(res.data.value);\n\n      if(isEmpty(currentBookmarks)){\n        // this.setState({bookmarks: [{}]});\n        this.getBookmarkList();\n        return;\n      } else {\n        var newBookmarks = currentBookmarks.filter(bookmark => bookmark.key !== key);\n        saveBookmarks(newBookmarks).then(res => {\n          this.getBookmarkList();\n          return;\n        });\n      }\n    }));\n  \n  }\n\n  handleInputChange(event){\n    const value = event.target.value;\n    const name = event.target.name;\n\n    this.setState({\n      [name]: value\n    });\n  }\n\n  handleInputSubmit(event){\n    //Get favicon\n    var faviconURL = getFaviconURL(this.state.newBookmarkURL);\n\n    //save bookmark\n    var newBookmark = {\n      // \"key\": \"2\",\n      \"name\": this.state.newBookmarkName,\n      \"subtitle\": this.state.newBookmarkSubtitle,\n      \"url\": this.state.newBookmarkURL,\n      \"favicon\": faviconURL \n    }\n\n    console.log('starting to add new bookmark...');\n    addBookmark(newBookmark).then(res => {\n      console.log('switching to viewBookmarks...');\n      this.viewBookmarks();\n    });\n\n    //go back to main view\n    //or maybe remove this line.\n    event.preventDefault();\n  \n\n  }\n\n  render() {\n    const bookmarkList = this.state.bookmarks;\n    \n    var practiceBookmarks = [{\n      \"key\": \"1\",\n      \"name\": \"ESPN\",\n      \"subtitle\": \"Scores from the last 10 games.\",\n      \"url\": \"https://espn.com\",\n      \"favicon\": \"https://espn.com/favicon.ico\"\n    },{\n      \"key\": \"2\",\n      \"name\": \"Heap\",\n      \"subtitle\": \"Latest testing data for entire period.\",\n      \"url\": \"https://heap.io\",\n      \"favicon\": \"https://heap.io/favicon.ico\" \n    }]\n    var pracAddSingleBookmark = {\n      // \"key\": \"2\",\n      \"name\": \"Google\",\n      \"subtitle\": \"Needs some more info, look here\",\n      \"url\": \"https://google.com\",\n      \"favicon\": \"https://google.com/favicon.ico\" \n    }\n\n\n\n    if (this.state.adding) {\n      return (\n        <div className=\"App\">\n          <form onSubmit={this.handleInputSubmit}>\n            <input \n              name=\"newBookmarkName\" \n              className=\"new-bookmark-input\" \n              placeholder=\"New Bookmark Name\"\n              onChange={this.handleInputChange}></input>\n            <input \n              name=\"newBookmarkSubtitle\" \n              className=\"new-bookmark-input\" \n              placeholder=\"New Bookmark Subtitle\"\n              onChange={this.handleInputChange}></input>\n            <input \n              name=\"newBookmarkURL\" \n              className=\"new-bookmark-input\" \n              placeholder=\"New Bookmark URL\"\n              onChange={this.handleInputChange}></input>\n            <input className=\"submitNew\" type=\"submit\" value=\"Save\"></input>\n          </form>\n          <button onClick={() => this.viewBookmarks()}>Cancel</button>\n        </div>\n      );\n    } else {\n      return (\n        <div className=\"App\">\n\n          {bookmarkList.map((bookmark) =>\n          <Bookmark \n            id={bookmark.key}\n            url={bookmark.url} \n            name={bookmark.name} \n            favicon={bookmark.favicon} \n            subtitle={bookmark.subtitle}\n            deleteBookmark={this.deleteBookmark}\n            />\n          )}\n          \n  \n          {/* <CreateBookmarkForm /> */}\n          {/* <button onClick={() => saveBookmarks(practiceBookmarks)}>Set 2</button> */}\n          {/* <button onClick={() => addBookmark(pracAddSingleBookmark)}>Add</button> */}\n          {/* <button onClick={() => this.getBookmarkList()}>Refresh</button>  */}\n          {/* <button onClick={() => deleteAllBookmarks()}>Clear All</button> */}\n          <button onClick={() => this.addNewBookmark()}>+</button>\n          {/* <button onClick={() => this.editBookmarks()}>Edit</button> */}\n        </div>\n      );\n    }\n  }\n}\n\nclass Bookmark extends React.Component {\n\n  handleClick = () => {\n    console.log('Clicked');\n    // window.open(\"https://www.w3schools.com\", '_blank', 'noopener,noreferrer');\n    window.open(this.props.url, '_blank', 'noopener,noreferrer');\n  }\n\n  handleClickDelete(e){\n    //Delete bookmark\n    console.log('clicked');\n    // console.log(this.props);\n    console.log('deleting: ' + this.props.id);\n    this.props.deleteBookmark(this.props.id);\n  }\n\n  render(){\n    return (\n    <div className=\"bookmark-card-component\" >\n      <div className=\"bookmark-card-image\" onClick={this.handleClick}>\n        <div className=\"bookmark-img\">\n          <img className=\"bookmark-photo\" src={this.props.favicon} alt=\"Logo\" />\n        </div>\n      </div>\n      <div className=\"bookmark-remove editable\">\n          <button className=\"danger-button\" onClick={this.handleClickDelete.bind(this)}>X</button>\n      </div>\n      <div className=\"bookmark-card-container\" onClick={this.handleClick}>\n        <div className=\"bookmark-card-inner\">\n          <div className=\"bookmark-card-content\">\n            <div className=\"bookmark-card-title\">{this.props.name}</div>\n            <div className=\"bookmark-card-subtitle\">\n              <div className=\"multiline-ellipsis-component\">{this.props.subtitle}</div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    );\n  }\n}\n\n\n\n// ================= Backend ==================\n//https://jsdoc.app/tags-param.html <- how to document\n\n/**\n * Saves bookmark(s) to Monday instance.\n * @param {Object} bookmarkList - Bookmarks to save.\n */\nfunction saveBookmarks(bookmarkList){\n  return Promise.resolve(monday.storage.instance.setItem('bookmarks', JSON.stringify(bookmarkList)).then(res => {\n    // console.log(res);\n    console.log('new bookmark saved!');\n  }))\n}\n\n/**\n * Adds a new bookmark to Monday instance.\n * @param {Object} bookmark - Bookmark to add.\n */\nfunction addBookmark(bookmark){\n  var newKey = new Date().getTime().toString() + bookmark.name;\n\n  return monday.storage.instance.getItem('bookmarks').then(res => {\n    // let keys = Object.keys(res.data.value);\n    // console.log(keys);\n    // console.log(res.data.value);\n\n    let currentBookmarks = [{}];\n    currentBookmarks = JSON.parse(res.data.value);\n\n    if(isEmpty(currentBookmarks)){\n      var newBookmark = [{\n        \"key\": newKey,\n        \"name\": bookmark.name,\n        \"subtitle\": bookmark.subtitle,\n        \"url\": bookmark.url,\n        \"favicon\": bookmark.favicon\n      }]\n      console.log('starting to save new bookmark...');\n      return Promise.resolve(saveBookmarks(newBookmark));\n    } else {\n      var newBookmark = {\n        \"key\": newKey,\n        \"name\": bookmark.name,\n        \"subtitle\": bookmark.subtitle,\n        \"url\": bookmark.url,\n        \"favicon\": bookmark.favicon\n      }\n      console.log('starting to save new bookmark...');\n      currentBookmarks.push(newBookmark);\n      return Promise.resolve(saveBookmarks(currentBookmarks));\n    }\n });\n}\n\n/**\n * Deletes all bookmarks created\n *\n */\nfunction deleteAllBookmarks(){\n  monday.storage.instance.setItem('bookmarks', '{}').then(res => {\n    console.log(res);\n  });\n}\n\n\n\n\n\n/**\n * Checks if an object is empty\n * @param {Object} obj \n */\nfunction isEmpty(obj){\n  return Object.keys(obj).length === 0;\n}\n\n\n/**\n * Get standard favicon.ico url based off any link\n * @param {string} url \n */\nfunction getFaviconURL(url){\n  var favURL;\n  var a = document.createElement('a');\n  a.href = url;\n  favURL = 'https://' + a.hostname + '/favicon.ico';\n  console.log(favURL);\n  return favURL;\n}\n\n\n\n/*\n**** MOVED THIS FUNCTION INSIDE APP COMPONENT SO IT CAN SAVE TO STATE ****\nfunction getBookmark(){\n  monday.storage.instance.getItem('bookmarks').then(res => {\n    // let keys = Object.keys(res.data.value);\n    // console.log(keys);\n    console.log(res.data.value);\n    return res.data.value\n })\n}\n*/\n\nexport default App;\n\n\n\n\n\n// ================= Old Code for editable bookmarks ==================\n\n// ================= This part was in the main render ==================\n    // if (this.state.editable){\n    //   return (\n    //   <div className=\"App\">\n\n    //       {bookmarkList.map((bookmark) =>\n    //       <EditableBookmark \n    //         key={bookmark.key} \n    //         id={bookmark.key} \n    //         url={bookmark.url} \n    //         name={bookmark.name} \n    //         favicon={bookmark.favicon} \n    //         subtitle={bookmark.subtitle}\n    //         refreshBookmarks={this.getBookmarkList}\n    //         deleteBookmark={this.deleteBookmark}\n    //         />\n    //       )}\n\n  \n    //       {/* <CreateBookmarkForm /> */}\n    //       <button onClick={() => addBookmark(pracAddSingleBookmark)}>Add</button>\n    //       <button onClick={() => this.getBookmarkList()}>Refresh</button> \n    //       {/* <button onClick={() => deleteAllBookmarks()}>Clear All</button> */}\n    //       <button onClick={() => this.viewBookmarks()}>Save</button>\n    //       {/* <button onClick={() => getFaviconURL('https://stackoverflow.com/questions/8498592/extract-hostname-name-from-string')}>get favicon url</button> */}\n    //     </div>\n    //   );\n    // } \n\n\n// ================= Here are the edibtable components ==================\n\n/*\nclass EditableBookmark extends React.Component {\n\n  constructor(props){\n    super(props);\n    this.handleClickDelete = this.handleClickDelete.bind(this);\n  }\n\n  handleClickDelete(e){\n    //Delete bookmark\n    console.log('deleting: ' + this.props.id);\n    this.props.deleteBookmark(this.props.id);\n  }\n\n  render(){\n    return (\n    <div className=\"bookmark-card-component\" >\n      <div className=\"bookmark-remove editable\">\n          <button className=\"danger-button\" onClick={this.handleClickDelete}>Remove</button>\n      </div>\n      <div className=\"bookmark-card-container editable\">\n        <div className=\"bookmark-card-inner editable\">\n          <div className=\"bookmark-card-content\">\n            <div className=\"bookmark-card-title editable-text\">\n              <div className=\"bookmark-card-title\">{this.props.name}</div>\n            </div>\n            <div className=\"bookmark-card-subtitle\">\n              <div className=\"multiline-ellipsis-component\">{this.props.subtitle}</div>\n            </div>\n            <div className=\"bookmark-card-subtitle\">\n              <div className=\"multiline-ellipsis-component\">{this.props.url}</div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    );\n  }\n}\n\n\nclass NewBookmark extends React.Component {\n\n  render(){\n    return (\n      <div className=\"bookmark-card-component\" >\n      // { <div className=\"bookmark-card-image\">\n      //   <div className=\"bookmark-img\">\n      //     <img className=\"bookmark-photo\" src={this.props.favicon} alt=\"Logo\" />\n      //   </div>\n      // </div>}\n      <div className=\"bookmark-card-container\">\n        <div className=\"bookmark-card-inner\">\n          <div className=\"bookmark-card-content\">\n            <div className=\"bookmark-card-title\">Name</div>\n            <div className=\"bookmark-card-subtitle\">\n              <div className=\"multiline-ellipsis-component\">Subtitle</div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    )\n  }\n\n}\n\n*/\n\n/*\nclass CreateBookmarkForm extends React.Component {\n  //Learned here: https://reactjs.org/docs/forms.html#controlled-components\n  constructor(props) {\n    super(props);\n    this.state = {\n      url: '',\n      bookmarkName: ''\n    };\n\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleChange(event) {\n    console.log(event);\n    this.setState({\n      [url]: event.target.url,\n      [bookmarkName]: event.target.bookmarkName\n    });\n  }\n\n  handleSubmit(event) {\n    console.log('Submitted URL: ' + this.state.url);\n    console.log('Submitted Name: ' + this.state.bookmarkName);\n    console.log(this.state);\n    event.preventDefault();\n  }\n\n  render(){\n    return(\n      <form onSubmit={this.handleSubmit}>\n        <label>\n          URL\n          <input\n            name=\"url\"\n            type=\"text\"\n            value={this.state.url}\n            onChange={this.handleChange} />\n        </label>\n        <br />\n        <label>\n          Name:\n          <input\n            name=\"bookmarkName\"\n            type=\"text\"\n            value={this.state.bookmarkName}\n            onChange={this.handleChange} />\n        </label>\n        <input type=\"submit\" value=\"Submit\" />\n      </form>\n    );\n  }\n}\n*/\n"]},"metadata":{},"sourceType":"module"}